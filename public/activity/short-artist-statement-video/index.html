<!doctype html>
<html lang="en-AU">
<head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=56360&amp;path=livereload" data-no-instant defer></script>
    
    <link rel="stylesheet" href="https://rmitlibrary.github.io/wordpress-hugo-learning-lab/wp-content/themes/picostrap5-child-base/css-output/bundle.min.css">
	<style>
	.my-container {
		max-width: 856px; 
	}
	blockquote {
		margin: 0;
	}
	.button-group .text-markup-btn, #showHideAll {
		margin-bottom: 1rem;
	}
	
	@media (max-width: 767.98px) {
	  .button-group .text-markup-btn, 
	  .button-group #showHideAll {
		display: block;
		width: 100%;
	  }
	}
	</style>
</head>
<body>
<!-- START container -->
<div class="my-container">
	<blockquote>
		<a id="mark-up-content"></a>
		<p><strong>Keith W Clancy<br />BLACK WHOLE (RMX), 2019</strong><br />RMIT University Gallery</p>
		<p><span id="what">BLACK WHOLE (RMX) restages an imaginary cabaret performed by an unidentified Officer: he is at once a ghost, a dream and a traumatic symptom.</span></p>
		<p><span id="context">Richard Strauss’s opera Ariadne auf Naxos (1916) acts as a self-nesting framework for this meta-fictional allegory about art, sex, death and childhood. Against the silent commentary of old master paintings, arias by Handel and Vivaldi are ‘mistranslated’ by texts adapted from Octave Mirbeau’s ‘The Torture Garden’ (1899).</span></p>
		<p><span id="rationale">No relations in the work are straightforward: here there is in fact no immediate relation at all between sound and vision. The artist finds pleasure in the way all these elements ‘rub up’ against one another. Everything that might normally be synchronised is displaced or distorted. Perversion is the law, and pleasure executes the sentence: sumptuous surfaces delight in the shattering of the self.</span></p>
		<p class="small">&copy; Copyright Keith W Clancy<br />RMIT alumnus</p>
	</blockquote>
	<div class="button-group" id="button-group">
		<p><strong>Click the buttons</strong> to highlight the structure and different parts of the text above.</p>
		<a class="btn btn-default text-markup-btn" role="button" href="#what">Content - what is the work about?</a>
		<a class="btn btn-default text-markup-btn" role="button" href="#context">Context - what elements are remixed to form the work?</a>
		<a class="btn btn-default text-markup-btn" role="button" href="#rationale">Rationale and artist intent</a>
		<a class="btn btn-default" role="button" id="showHideAll" href="#mark-up-content">Show all</a>
	</div>
</div>
<!-- END container -->
<script>


var highlightHidden = true;	
var showHideAll = document.getElementById("showHideAll");


var linkHTML = ' <a href="#button-group" class="visually-hidden">Back to buttons</a>';
	

var colArray = [
"color-teal",
"color-pink",
"color-green",
"color-purple",
"color-brown",
"color-blue",
"color-red",
"color-yellow"
];


var elements = document.getElementsByClassName("text-markup-btn");
	

for (let i = 0; i < elements.length; i++) {
    elements[i].addEventListener("click", function(event) {
        handleClick(event.target, i);
    });
}
	


function handleClick(button, index) {
    resetAllTextHighlights();
	highlightText(button, index);	
}
	

function resetAllTextHighlights()
{
	
	var blockquote = document.querySelector('blockquote');
	var spans = blockquote.querySelectorAll('span');
	
	
	spans.forEach(function(span) {
		removeClasses(span);
	});
	
	
	var elements = document.querySelectorAll(".text-markup-btn");
	
	
	elements.forEach(function(element) {
		removeClasses(element);
	});
}
	


function highlightText(button, index)
{
	
	var theTextId = button.getAttribute('href').substring(1);
	var theText = document.getElementById(theTextId);
	
	
	
	var colIndex = getColour(index);
	
	
	theText.classList.add(colArray[colIndex]);
	button.classList.add(colArray[colIndex]);
	
	
	theText.insertAdjacentHTML('beforeend', linkHTML);
}
	

function getColour(index) {
	if(index >= colArray.length) {
		return (index - colArray.length);
	}
	else {
		return index;
	}
}
	

function removeClasses(element)
{
	var classesToKeep = ['btn', 'btn-default', 'text-markup-btn'];
    
    element.classList.forEach(function(className) {
        if (!classesToKeep.includes(className)) {
            element.classList.remove(className);
        }
    });
}
	

function highlightAll() {
	var elements = document.getElementsByClassName("text-markup-btn");
	
	for (let i = 0; i < elements.length; i++) {
		highlightText(elements[i], i);
	}	
}
	

showHideAll.addEventListener("click", function(event) {
	if(highlightHidden) {
		highlightHidden = false;
		showHideAll.innerHTML = "Hide all";
		highlightAll();
	}
	else {
		
		showHideAll.innerHTML = "Show all";
		resetAllTextHighlights();
		highlightHidden = true;
	}
});
</script>					
 
<script src="https://rmitlibrary.github.io/cdn/libraries/js/iframeResizer.contentWindow.min.js"></script> 
<script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.3.2/js/bootstrap.min.js"></script> 
 
</body>
</html>
